angular-notesoup todo

========================================
BUGS

- bug: menu position is wrong (too high) if screen is scrolled

- bug: c:'white' causes body text to disappear
    - compute body background; use gray if text is white
        - need darker()/lighter()
- bug: click to drag on image-note's image -> alert "bogus note id"
- bug: Enter should end title edit
- bug: stale target highlighting after dragdrop (disabled for now)
- bug: cursor pointer should be resize cursor during resize
- bug: make title html-ok
- bug: maybe edit should toTop()

========================================
BASIC FEATURES

- dragdrop
    - drop note on note
        - bug: stale target highlighting after dragdrop (disabled for now)

- use $scope.eval in .commands

- workspace selector
    - app-wide id uniqueness
        - compute it at load time
    - Add Workspace command
        - make sure it isn't there already (go there?)
        - switch there
            set $app.path, $workspace, $notes
        - save a copy of the default? current? workspace settings

    // todo: add notes:{} to defaultWorkspace
    $scope.setWorkspace(newPath) {
        if (!$scope.workspaces.HasOwnProperty(newPath)) {
            var newWorkspace = {};
            angular.extend(newWorkspace, $scope.defaultWorkspace)
            $scope.workspaces[newPath] = {
                workspace: newWorkspace;
                notes: [];
            };
            $scope.saveNote(newWorkspace, newPath);
        }
        $scope.app.path = newPath;
        $scope.workspace = $scope.workspaces[$scope.app.path].workspace;
        $scope.notes = $scope.workspaces[$scope.app.path].notes;
    };

    - load all workspaces at startup [name, notes, ...]
    - make the workspaceSelector work
        - set $scope.workspace
        - set $scope.notes
        - set $scope.app.path

    - save application path so refresh doesn't send you back to home/inbox

    - sendNote: monkeypatch $scope
    - deleteNote: sendNote(note, 'trash')
        - deleteNote in trash: really delete
            - extra prompt
    - Send To >: move notes between workspaces
        - workspace dropdown
    - Clone Workspace To...: copy notes and workspace settings
        - validate pathname carefully

- animations
    - workspace open/close
    - note creation slide-in
    - note deletion fade-out

- templates
- calendar background
- stock widgets
    - clock
    - clickable color palette
        - dropdown for target

- note widget
    - append-text input
    - better editor: ui-ace?

- auto-adjust title width
    http://stackoverflow.com/questions/118241/calculate-text-width-with-javascript
    - on load
    - after editTitle

- reZ on load?
    - maybe when Z hits some big number?
    [{i:note.i, z:note.z},,,]
    sort by note.z
    set note.z to index in sorted output
    save each note (ouch)

- workspace:set grid
- feature: cancel color picker change

- object attribute editor

- backup via email
    - paste []
- undo/redo
- mailto
- export
- sync
